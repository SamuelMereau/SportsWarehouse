"use strict";(()=>{function showError(field,event,errorMessage=null){if(event.preventDefault(),"checkout__card-number-input"===field.id?field.parentElement.parentElement.classList.add("error-row"):field.parentElement.classList.add("error-row"),field.classList.add("is-invalid"),null!==errorMessage){let errorSpan;errorSpan="checkout__card-number-input"===field.id?field.parentElement.parentElement.querySelector(".error-message"):field.parentElement.querySelector(".error-message"),null===errorSpan&&(errorSpan=document.createElement("span"),errorSpan.classList.add("error-message"),field.parentElement.appendChild(errorSpan)),errorSpan.innerText=errorMessage}}function hideAllErrors(form){const errors=form.querySelectorAll(".error-row");for(const error of errors){error.classList.remove("error-row");const invalidInputs=error.getElementsByClassName("is-invalid");for(const input of invalidInputs)input.classList.remove("is-invalid")}}document.addEventListener("DOMContentLoaded",()=>{const checkoutForm=document.getElementById("checkout-form");checkoutForm&&(checkoutForm.setAttribute("novalidate",""),checkoutForm.addEventListener("submit",ev=>{const firstName=checkoutForm.elements["first-name"],lastName=checkoutForm.elements["last-name"],streetAddress=checkoutForm.elements["street-address"],streetAddress2=checkoutForm.elements["street-address-2"],city=checkoutForm.elements.city,state=checkoutForm.elements.state,postcode=checkoutForm.elements.postcode,contactNumber=checkoutForm.elements["contact-number"],emailAddress=checkoutForm.elements["email-address"],nameOnCard=checkoutForm.elements["name-on-card"],cardNumber=checkoutForm.elements["card-number"],cardExpirationMonth=checkoutForm.elements["card-expiration-month"],cardExpirationYear=checkoutForm.elements["card-expiration-year"],cardCVC=checkoutForm.elements["card-cvc"];hideAllErrors(checkoutForm);const regexPostcode=/^\d{3,4}$/,regexEmail=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,regexPhone=/^((000|112|106)|((13|18)([- ]?\d){4})|((1300|1800|190\d)([- ]?\d){6})|(((\+61[- ]?\(?)|(\(?0[- ]?))[23478]\)?([- ]?\d){8}))$/,regexCard=/\s|\-|[a-zA-Z]/,regexCardExpirationMonth=/^(0[1-9])|(1[0-2])$/,regexCVC=/^\d{3}$/;""===firstName.value?showError(firstName,ev,"First Name is required"):firstName.value.trim().length<2&&showError(firstName,ev,"Must be 2+ characters"),""===lastName.value?showError(lastName,ev,"Last Name is required"):lastName.value.trim().length<2&&showError(lastName,ev,"Must be 2+ characters"),""===streetAddress.value?showError(streetAddress,ev,"Street Address is required"):streetAddress.value.trim().length<2&&showError(streetAddress,ev,"Must be 2+ characters"),""===city.value?showError(city,ev,"City is required"):city.value.trim().length<2&&showError(city,ev,"Must be 2+ characters");const allowedStates=["NSW","ACT","VIC","QLD","NT","SA","WA","TAS"];allowedStates.some(v=>state.value.trim().includes(v))||showError(state,ev,"Please select a state from the list"),""===postcode.value?showError(postcode,ev,"Postcode is required"):regexPostcode.test(postcode.value)||showError(postcode,ev,"Invalid postcode"),""===contactNumber.value?showError(contactNumber,ev,"Contact Number is required"):regexPhone.test(contactNumber.value)||showError(contactNumber,ev,"Only valid Australian phone numbers are accepted"),""===emailAddress.value?showError(emailAddress,ev,"Email is required"):regexEmail.test(emailAddress.value)||showError(emailAddress,ev,"Email must have valid format"),""===nameOnCard.value?showError(nameOnCard,ev,"Name on Card is required"):nameOnCard.value.trim().length<2&&showError(nameOnCard,ev,"Must be 2+ characters"),""===cardNumber.value?showError(cardNumber,ev,"Card Number is required"):cardNumber.value.trim().length<13?showError(cardNumber,ev,"Minimum of 13 digits required"):regexCard.test(cardNumber.value)&&showError(cardNumber,ev,"Invalid card number (do not include spaces, dashes or letters)"),""===cardExpirationMonth.value?showError(cardExpirationMonth,ev,"Card Expiration Month is required"):regexCardExpirationMonth.test(cardExpirationMonth.value)||showError(cardExpirationMonth,ev,"Invalid month number (numbers below 10 must have a leading 0, e.g 01)"),""===cardExpirationYear.value?showError(cardExpirationYear,ev,"Card Expiration Year is required"):cardExpirationYear.value.trim().length>2&&showError(cardExpirationYear,ev,"Maxiumum of 2 numbers required"),""===cardCVC.value?showError(cardCVC,ev,"Card CVC / CVV is required"):regexCVC.test(cardCVC.value)||showError(cardCVC,ev,"Invalid CVC / CVV")}))})})();
//# sourceMappingURL=checkout-validation.min.js.map