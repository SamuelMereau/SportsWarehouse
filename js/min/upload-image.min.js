"use strict";(()=>{function fileSelectImg(evt){const image=evt.target.files[0],reader=new FileReader;var file;reader.onload=(file=image,e=>{document.getElementById("image-preview").src=e.target.result}),reader.readAsText(image)}function fileSelectBase64(evt){const image=evt.target.files[0],reader=new FileReader;var file;reader.onload=(file=image,e=>{document.getElementById("image-preview").src=e.target.result}),reader.readAsDataURL(image)}function hasAllowedMimeType(contentType){const pattern=/(image\/)\b(?:gif|jpeg|png)/g,isAllowed=pattern.test(contentType);return isAllowed}function hasCorrectFileSize(size){const mbSize=size/1024/1024;return!(mbSize>2)}document.addEventListener("DOMContentLoaded",ev=>{const uploadImage=document.getElementById("upload-item-photo"),removeImage=document.getElementById("remove-photo");document.getElementById("upload-item-photo-label").classList.remove("disabled"),uploadImage.removeAttribute("disabled"),uploadImage.removeAttribute("title"),removeImage&&(removeImage.removeAttribute("disabled"),removeImage.removeAttribute("title")),uploadImage.addEventListener("change",ev=>{if("files"in uploadImage){if(!hasAllowedMimeType(ev.target.files[0].type))return ev.preventDefault(),alert("Incorrect file type provided. Please only upload a JPG (.jpg or .jpeg), PNG (.png) or a GIF (.gif).");if(!hasCorrectFileSize(ev.target.files[0].size))return ev.preventDefault(),alert("Maximum file size limit exceeded. Images must be less than 2MB in size.");fileSelectBase64(ev)}}),removeImage&&removeImage.addEventListener("click",ev=>{document.getElementById("image-preview").src="./img/product-images/placeholder.svg",document.getElementById("server-should-remove-photo").setAttribute("value","1")})})})();
//# sourceMappingURL=upload-image.min.js.map